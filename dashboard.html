<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard Katalog Produk</title>
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --blue-1: #1a73e8;
        --blue-2: #4286f4;
        --accent: #ffd600;
      }
      * {
        box-sizing: border-box;
      }
      body {
        font-family: "Montserrat", Arial, sans-serif;
        background: #f8f9fa;
        margin: 0;
        -webkit-font-smoothing: antialiased;
      }

      /* Navbar - Responsive */
      .ecom-navbar {
        width: 100%;
        background: linear-gradient(90deg, var(--blue-1), var(--blue-2) 80%);
        padding: 18px 0;
        box-shadow: 0 2px 8px rgba(100, 127, 255, 0.08);
      }
      .ecom-navbar-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 12px;
      }
      .ecom-logo {
        font-weight: 700;
        color: #fff;
        font-size: 1.45rem;
        text-shadow: 0 2px 18px rgba(0, 0, 0, 0.08);
      }
      .ecom-nav-links {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
      }
      .ecom-navlink {
        color: #fff;
        text-decoration: none;
        font-weight: 500;
        font-size: 0.95rem;
      }

      /* Dashboard Layout - Responsive */
      .dashboard-flex {
        max-width: 1200px;
        margin: 34px auto;
        display: flex;
        gap: 32px;
        padding: 0 20px;
        min-height: 70vh;
      }

      /* Sidebar - Desktop */
      .sidebar-cat {
        min-width: 220px;
        background: linear-gradient(160deg, #236dda, #4887f1 90%);
        padding: 22px;
        border-radius: 14px;
        box-shadow: 0 7px 24px rgba(100, 127, 255, 0.07);
        color: #fff;
        height: fit-content;
        position: sticky;
        top: 20px;
      }
      .sidebar-cat-title {
        text-align: center;
        font-weight: 700;
        margin-bottom: 12px;
        font-size: 1.1rem;
      }
      .sidebar-cat-list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .sidebar-cat-list li {
        padding: 10px 12px;
        border-radius: 10px;
        background: #2571e94a;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.18s;
        text-align: center;
        font-size: 0.9rem;
      }
      .sidebar-cat-list li.active,
      .sidebar-cat-list li:hover {
        background: var(--accent);
        color: var(--blue-1);
        transform: translateY(-2px);
      }

      /* Main area */
      .main-product {
        flex: 1;
        display: flex;
        flex-direction: column;
        min-width: 0;
      }

      /* Search - Responsive */
      .dashboard-search {
        display: flex;
        gap: 12px;
        align-items: center;
        margin-bottom: 16px;
        flex-wrap: wrap;
      }
      .dashboard-search input {
        flex: 1;
        min-width: 200px;
        padding: 10px 14px;
        border-radius: 9px;
        border: 1.5px solid #cfcfe3;
        outline: none;
        background: #fff;
        font-size: 0.95rem;
      }
      .dashboard-search button {
        padding: 10px 20px;
        border-radius: 9px;
        border: none;
        background: linear-gradient(45deg, var(--blue-1), var(--accent));
        color: #fff;
        font-weight: 700;
        cursor: pointer;
        font-size: 0.95rem;
        white-space: nowrap;
      }

      /* Category header */
      .category-header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin: 6px 0 18px 0;
      }
      .category-badge {
        font-weight: 700;
        font-size: 1.05rem;
        background: linear-gradient(45deg, var(--blue-1), var(--accent));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      /* Product Grid - Responsive */
      .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 24px;
        transition: opacity 0.28s ease;
        opacity: 1;
      }
      .product-grid.fade-out {
        opacity: 0;
      }

      .product-card {
        background: #fff;
        border-radius: 14px;
        padding: 18px 14px 20px 14px;
        box-shadow: 0 7px 22px rgba(26, 115, 232, 0.08);
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 320px;
        transition: transform 0.22s, box-shadow 0.22s, opacity 0.22s;
      }
      .product-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 32px rgba(26, 115, 232, 0.15);
      }
      .product-card.hidden {
        display: none;
      }

      .product-img {
        width: 100%;
        max-width: 180px;
        height: 180px;
        object-fit: contain;
        border-radius: 12px;
        margin-bottom: 18px;
      }
      .product-title {
        font-weight: 700;
        text-align: center;
        min-height: 2.4em;
        margin-bottom: 8px;
        font-size: 0.95rem;
        line-height: 1.3;
      }
      .product-price {
        color: var(--blue-1);
        font-weight: 700;
        margin-bottom: 12px;
        font-size: 0.9rem;
      }
      .product-btn {
        padding: 10px 20px;
        border-radius: 8px;
        border: none;
        background: linear-gradient(45deg, var(--blue-1), var(--accent));
        color: #fff;
        font-weight: 700;
        cursor: pointer;
        font-size: 0.9rem;
        transition: transform 0.2s;
      }
      .product-btn:hover {
        transform: scale(1.05);
      }

      /* Color palette */
      .color-palette {
        width: 38px;
        height: 38px;
        border-radius: 8px;
        border: 2px solid #ececec;
        cursor: pointer;
        display: inline-block;
        margin: 4px;
        transition: all 0.2s;
      }
      .color-palette:hover {
        transform: scale(1.1);
      }
      .color-palette.selected {
        border: 3px solid var(--blue-1);
        box-shadow: 0 0 0 4px rgba(255, 214, 0, 0.18);
      }

      /* Modal - Responsive */
      #modal-detail {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.55);
        z-index: 9999;
        align-items: center;
        justify-content: center;
        padding: 20px;
        overflow-y: auto;
      }
      #modal-content {
        width: 100%;
        max-width: 460px;
        background: #fff;
        border-radius: 16px;
        padding: 28px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        position: relative;
        margin: auto;
      }
      #modal-content img {
        width: 100%;
        max-width: 200px;
        height: 200px;
        object-fit: contain;
        display: block;
        margin: 0 auto 12px;
      }
      #close-modal {
        position: absolute;
        right: 16px;
        top: 10px;
        font-size: 1.8rem;
        background: none;
        border: none;
        color: var(--blue-1);
        cursor: pointer;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: background 0.2s;
      }
      #close-modal:hover {
        background: rgba(26, 115, 232, 0.1);
      }
      #modal-title {
        text-align: center;
        font-weight: 700;
        margin-bottom: 6px;
        font-size: 1.1rem;
        padding-right: 30px;
      }
      #modal-price {
        text-align: center;
        color: var(--blue-1);
        font-weight: 700;
        margin-bottom: 12px;
        font-size: 1.05rem;
      }
      #modal-color-label {
        color: var(--blue-1);
        margin-top: 8px;
        font-weight: 600;
        font-size: 0.9rem;
      }
      .modal-section {
        text-align: center;
        margin-bottom: 14px;
      }
      .modal-section-title {
        font-weight: 600;
        color: #222;
        margin-bottom: 8px;
        font-size: 0.95rem;
      }
      #modal-palette {
        display: flex;
        justify-content: center;
        gap: 4px;
        flex-wrap: wrap;
        padding: 8px 0;
      }
      #modal-size {
        padding: 10px 14px;
        border-radius: 8px;
        border: 1px solid #ddd;
        font-size: 0.95rem;
        min-width: 150px;
      }
      .modal-buttons {
        display: flex;
        gap: 12px;
        justify-content: center;
        margin-top: 18px;
        flex-wrap: wrap;
      }
      .modal-buttons button {
        padding: 12px 24px;
        border-radius: 8px;
        border: none;
        font-weight: 700;
        cursor: pointer;
        font-size: 0.95rem;
        transition: transform 0.2s;
      }
      .modal-buttons button:hover {
        transform: scale(1.05);
      }
      #modal-buy {
        background: linear-gradient(45deg, var(--blue-1), var(--accent));
        color: #fff;
      }
      #modal-close {
        background: #f1f1f1;
        color: #222;
      }

      /* Tablet Styles (768px - 1024px) */
      @media (max-width: 1024px) {
        .dashboard-flex {
          gap: 24px;
        }
        .sidebar-cat {
          min-width: 180px;
        }
        .product-grid {
          grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
          gap: 20px;
        }
        .product-img {
          max-width: 160px;
          height: 160px;
        }
      }

      /* Mobile Styles (max-width: 768px) */
      @media (max-width: 768px) {
        .ecom-navbar {
          padding: 14px 0;
        }
        .ecom-navbar-container {
          padding: 0 16px;
        }
        .ecom-logo {
          font-size: 1.2rem;
        }
        .ecom-nav-links {
          gap: 8px;
        }
        .ecom-navlink {
          font-size: 0.85rem;
        }

        .dashboard-flex {
          flex-direction: column;
          padding: 0 16px;
          margin: 20px auto;
          gap: 16px;
        }

        /* Sidebar becomes horizontal on mobile */
        .sidebar-cat {
          display: flex;
          flex-direction: row;
          gap: 8px;
          padding: 12px;
          border-radius: 12px;
          min-width: 0;
          position: static;
          overflow-x: auto;
          overflow-y: hidden;
          -webkit-overflow-scrolling: touch;
          scrollbar-width: none;
          -ms-overflow-style: none;
        }
        .sidebar-cat::-webkit-scrollbar {
          display: none;
        }
        .sidebar-cat-title {
          display: none;
        }
        .sidebar-cat-list {
          flex-direction: row;
          gap: 8px;
          width: 100%;
          justify-content: flex-start;
          flex-wrap: nowrap;
        }
        .sidebar-cat-list li {
          white-space: nowrap;
          padding: 8px 16px;
          font-size: 0.85rem;
          flex-shrink: 0;
          user-select: none;
          -webkit-user-select: none;
          touch-action: pan-x;
        }

        /* Product grid adjustments */
        .product-grid {
          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
          gap: 16px;
        }
        .product-card {
          padding: 14px 10px 16px 10px;
          min-height: 280px;
        }
        .product-img {
          max-width: 130px;
          height: 130px;
          margin-bottom: 12px;
        }
        .product-title {
          font-size: 0.85rem;
          min-height: 2.2em;
        }
        .product-price {
          font-size: 0.85rem;
          margin-bottom: 10px;
        }
        .product-btn {
          padding: 8px 16px;
          font-size: 0.85rem;
        }

        /* Search adjustments */
        .dashboard-search {
          gap: 8px;
        }
        .dashboard-search input {
          min-width: 0;
          font-size: 0.9rem;
          padding: 9px 12px;
        }
        .dashboard-search button {
          padding: 9px 16px;
          font-size: 0.9rem;
        }

        .category-badge {
          font-size: 0.95rem;
        }

        /* Modal adjustments */
        #modal-content {
          padding: 20px;
          max-width: 95%;
        }
        #modal-content img {
          max-width: 160px;
          height: 160px;
        }
        #modal-title {
          font-size: 1rem;
        }
        #modal-price {
          font-size: 0.95rem;
        }
        .color-palette {
          width: 34px;
          height: 34px;
        }
        #modal-size {
          font-size: 0.9rem;
          padding: 9px 12px;
        }
        .modal-buttons {
          flex-direction: column;
          gap: 8px;
        }
        .modal-buttons button {
          width: 100%;
          padding: 11px 20px;
          font-size: 0.9rem;
        }
      }

      /* Small Mobile (max-width: 480px) */
      @media (max-width: 480px) {
        .ecom-logo {
          font-size: 1.1rem;
        }
        .ecom-navlink {
          font-size: 0.8rem;
        }

        .product-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 12px;
        }
        .product-card {
          min-height: 260px;
        }
        .product-img {
          max-width: 110px;
          height: 110px;
        }
        .product-title {
          font-size: 0.8rem;
        }
        .product-price {
          font-size: 0.8rem;
        }
        .product-btn {
          padding: 7px 14px;
          font-size: 0.8rem;
        }

        .sidebar-cat-list li {
          padding: 7px 14px;
          font-size: 0.8rem;
        }

        .category-badge {
          font-size: 0.9rem;
        }

        #modal-content {
          padding: 16px;
        }
        .color-palette {
          width: 30px;
          height: 30px;
          margin: 3px;
        }
      }

      /* Landscape orientation fixes */
      @media (max-height: 600px) and (orientation: landscape) {
        .dashboard-flex {
          margin: 16px auto;
        }
        .product-card {
          min-height: auto;
        }
        #modal-detail {
          align-items: flex-start;
          padding: 10px;
        }
        #modal-content {
          margin: 10px auto;
        }
      }
    </style>
  </head>
  <body>
    <nav class="ecom-navbar">
      <div class="ecom-navbar-container">
        <div class="ecom-logo">FDL Katalog</div>
        <div class="ecom-nav-links">
          <a class="ecom-navlink" href="index.html">Beranda</a>
        </div>
      </div>
    </nav>

    <div class="dashboard-flex">
      <aside class="sidebar-cat">
        <div class="sidebar-cat-title">Kategori</div>
        <ul class="sidebar-cat-list" id="categoryList">
          <li data-cat="all" class="active">Semua</li>
          <li data-cat="interior">Interior</li>
          <li data-cat="eksterior">Eksterior</li>
          <li data-cat="kendaraan">Kendaraan</li>
          <li data-cat="thinner">Thinner</li>
        </ul>
      </aside>

      <main class="main-product">
        <div class="dashboard-search">
          <input id="searchInput" placeholder="Cari produk..." />
          <button id="searchBtn">Cari</button>
        </div>

        <div class="category-header">
          <div class="category-badge" id="categoryTitle">
            Kategori: Semua Produk
          </div>
        </div>

        <div class="product-grid" id="productGrid">
          <!-- INTERIOR products (Jotun) -->
          <div
            class="product-card"
            data-category="interior"
            data-product="jotun-majestic-pure"
          >
            <img
              src="image/cat/jotun-majestic pure color.png"
              class="product-img"
              alt="Jotun Majestic Pure Color"
            />
            <div class="product-title">Jotun Majestic Pure Color</div>
            <div class="product-price">Rp 557.500</div>
            <button class="product-btn">Lihat Produk</button>
          </div>

          <div
            class="product-card"
            data-category="interior"
            data-product="jotun-majestic-sense"
          >
            <img
              src="image/cat/jotun-majestic sense.png"
              class="product-img"
              alt="Jotun Majestic Sense"
            />
            <div class="product-title">Jotun Majestic Sense</div>
            <div class="product-price">Rp 615.500</div>
            <button class="product-btn">Lihat Produk</button>
          </div>

          <div
            class="product-card"
            data-category="interior"
            data-product="jotun-true-beauty-sheen"
          >
            <img
              src="image/cat/jotun-majestic true beauty sheen.png"
              class="product-img"
              alt="Jotun True Beauty Sheen"
            />
            <div class="product-title">Jotun Majestic True Beauty Sheen</div>
            <div class="product-price">Rp 612.800</div>
            <button class="product-btn">Lihat Produk</button>
          </div>

          <div
            class="product-card"
            data-category="interior"
            data-product="jotun-true-beauty-matt"
          >
            <img
              src="image/cat/jotun-majestic true beauty matt.png"
              class="product-img"
              alt="Jotun True Beauty Matt"
            />
            <div class="product-title">Jotun Majestic True Beauty Matt</div>
            <div class="product-price">Rp 540.700</div>
            <button class="product-btn">Lihat Produk</button>
          </div>

          <!-- Viniton (interior) -->
          <div
            class="product-card"
            data-category="interior"
            data-palette-product="viniton"
            data-product="viniton-2901"
          >
            <img
              src="image/cat/viniton-2901.png"
              class="product-img"
              alt="Viniton 2901"
            />
            <div class="product-title">Viniton 2901</div>
            <div class="product-price">Rp 120.000 / 30gr</div>
            <button class="product-btn">Lihat Produk</button>
          </div>

          <!-- Vinnex (interior + eksterior) -->
          <div
            class="product-card"
            data-category="interior eksterior"
            data-palette-product="vinnex"
            data-product="vinnex-3000"
          >
            <img
              src="image/cat/vinnex-3000.png"
              class="product-img"
              alt="Vinnex 3000"
            />
            <div class="product-title">Vinnex 3000</div>
            <div class="product-price">Rp 115.000 / 30gr</div>
            <button class="product-btn">Lihat Produk</button>
          </div>

          <!-- Vinseal (interior + eksterior) -->
          <div
            class="product-card"
            data-category="interior eksterior"
            data-palette-product="vinseal"
            data-product="vinseal-3100"
          >
            <img
              src="image/cat/vinseal-3100.png"
              class="product-img"
              alt="Vinseal 3100"
            />
            <div class="product-title">Vinseal 3100</div>
            <div class="product-price">Rp 50.000 / 30gr</div>
            <button class="product-btn">Lihat Produk</button>
          </div>

          <!-- Kendaraan: Carfine 6000 -->
          <div
            class="product-card"
            data-category="kendaraan"
            data-palette-product="carfine"
            data-product="carfine-6000"
          >
            <img
              src="image/cat/carfine.png"
              class="product-img"
              alt="Carfine 6000"
            />
            <div class="product-title">Carfine 6000</div>
            <div class="product-price">Rp 180.000 / 6L</div>
            <button class="product-btn">Lihat Produk</button>
          </div>

          <!-- Thinner -->
          <div
            class="product-card"
            data-category="thinner"
            data-product="thinner-premium"
          >
            <img
              src="image/thinner.jpg"
              class="product-img"
              alt="Thinner Premium"
            />
            <div class="product-title">Thinner Premium</div>
            <div class="product-price">Rp 42.000</div>
            <button class="product-btn">Lihat Produk</button>
          </div>
        </div>
      </main>
    </div>

    <!-- Modal detail produk -->
    <div id="modal-detail" aria-hidden="true">
      <div id="modal-content" role="dialog" aria-modal="true">
        <button id="close-modal" aria-label="Tutup">&times;</button>
        <img id="modal-img" src="#" alt="Product image" />
        <div id="modal-title"></div>
        <div id="modal-price"></div>

        <div class="modal-section">
          <div class="modal-section-title">Pilih Warna</div>
          <div id="modal-palette"></div>
          <div id="modal-color-label"></div>
        </div>

        <div class="modal-section">
          <div class="modal-section-title">Pilih Ukuran</div>
          <select id="modal-size"></select>
        </div>

        <div class="modal-buttons">
          <button id="modal-buy">Beli Sekarang</button>
          <button id="modal-close">Tutup</button>
        </div>
      </div>
    </div>

    <script>
      /***********************
       * Product data object *
       ***********************/
      const products = {
        carfine: {
          img: "image/cat/carfine.png",
          name: "Carfine 6000",
          price: { "6L": "Rp 180.000" },
          colors: [
            { name: "Putih", code: "#ffffff" },
            { name: "Hitam", code: "#000000" },
            { name: "Abu", code: "#9e9e9e" },
            { name: "Kuning", code: "#ffd54f" },
            { name: "Glosy", code: "#f4f4f4" },
          ],
        },
        viniton: {
          img: "image/cat/viniton-2901.png",
          name: "Viniton 2901",
          price: {
            "30gr": "Rp 120.000",
            "100gr": "Rp 360.000",
            "250gr": "Rp 580.000",
          },
          colors: [
            { name: "Lady Pink", code: "#eed1dc" },
            { name: "Sun Glint Yellow", code: "#f2e2a0" },
            { name: "Light Green", code: "#cef0c3" },
            { name: "Pale Yellow", code: "#f6f4c4" },
            { name: "Sky Light Blue", code: "#dbeffc" },
            { name: "Dreamy Blue", code: "#b5e6f5" },
            { name: "Magenta", code: "#e0abcb" },
          ],
        },
        vinnex: {
          img: "image/cat/vinnex-3000.png",
          name: "Vinnex 3000",
          price: {
            "30gr": "Rp 115.000",
            "100gr": "Rp 340.000",
            "250gr": "Rp 560.000",
          },
          colors: [
            { name: "Lady Pink", code: "#eed1dc" },
            { name: "Sun Glint Yellow", code: "#f2e2a0" },
            { name: "Light Green", code: "#cef0c3" },
            { name: "Pale Yellow", code: "#f6f4c4" },
            { name: "Sky Light Blue", code: "#dbeffc" },
            { name: "Dreamy Blue", code: "#b5e6f5" },
            { name: "Magenta", code: "#e0abcb" },
          ],
        },
        vinseal: {
          img: "image/cat/vinseal-3100.png",
          name: "Vinseal 3100",
          price: {
            "30gr": "Rp 50.000",
            "2.5L": "Rp 490.000",
            "20L": "Rp 2.350.000",
          },
          colors: [
            { name: "Lady Pink", code: "#eed1dc" },
            { name: "Sun Glint Yellow", code: "#f2e2a0" },
            { name: "Light Green", code: "#cef0c3" },
            { name: "Pale Yellow", code: "#f6f4c4" },
            { name: "Sky Light Blue", code: "#dbeffc" },
            { name: "Dreamy Blue", code: "#b5e6f5" },
            { name: "Magenta", code: "#e0abcb" },
          ],
        },
        "jotun-majestic-pure": {
          img: "image/cat/jotun-majestic pure color.png",
          name: "Jotun Majestic Pure Color",
          price: { "2.5L": "Rp 557.500" },
          colors: [
            { name: "S0580-Y20R", code: "#FFAB00", price: "Rp 615.500" },
            { name: "S1075-G20Y", code: "#3CAC3C", price: "Rp 608.500" },
            { name: "S2075-G20Y", code: "#03922F", price: "Rp 629.100" },
            { name: "S0570-G40Y", code: "#99CC38", price: "Rp 387.200" },
            { name: "S0575-G40Y", code: "#9CCE2B", price: "Rp 557.500" },
            { name: "S0502-G", code: "#E9EDEA", price: "Rp 335.000" },
            { name: "I002-G", code: "#DBDFDB", price: "Rp 338.000" },
            { name: "3502-G", code: "#9BA19F", price: "Rp 315.500" },
            { name: "S900-N", code: "#191A1B", price: "Rp 364.500" },
            { name: "0580-Y", code: "#FFD200", price: "Rp 530.800" },
          ],
        },
        "jotun-majestic-sense": {
          img: "image/cat/jotun-majestic sense.png",
          name: "Jotun Majestic Sense",
          price: { "2.5L": "Rp 615.500" },
          colors: [
            { name: "S0580-Y20R", code: "#FFAB00", price: "Rp 615.500" },
            { name: "S1075-G20Y", code: "#3CAC3C", price: "Rp 608.500" },
            { name: "S2075-G20Y", code: "#03922F", price: "Rp 629.100" },
            { name: "S0570-G40Y", code: "#99CC38", price: "Rp 387.200" },
            { name: "S0575-G40Y", code: "#9CCE2B", price: "Rp 557.500" },
            { name: "S0502-G", code: "#E9EDEA", price: "Rp 335.000" },
            { name: "I002-G", code: "#DBDFDB", price: "Rp 338.000" },
            { name: "3502-G", code: "#9BA19F", price: "Rp 315.500" },
            { name: "S900-N", code: "#191A1B", price: "Rp 364.500" },
            { name: "0580-Y", code: "#FFD200", price: "Rp 530.800" },
          ],
        },
        "jotun-majestic-sheen": {
          img: "image/cat/jotun-majestic true beauty sheen.png",
          name: "Jotun Majestic True Beauty Sheen",
          price: { "2.5L": "Rp 612.800" },
          colors: [
            { name: "S0580-Y20R", code: "#FFAB00", price: "Rp 612.800" },
            { name: "S1075-G20Y", code: "#3CAC3C", price: "Rp 605.800" },
            { name: "S2075-G20Y", code: "#03922F", price: "Rp 629.100" },
            { name: "S0570-G40Y", code: "#99CC38", price: "Rp 354.500" },
            { name: "S0575-G40Y", code: "#9CCE2B", price: "Rp 554.800" },
            { name: "S0502-G", code: "#E9EDEA", price: "Rp 314.000" },
            { name: "I002-G", code: "#DBDFDB", price: "Rp 317.000" },
            { name: "3502-G", code: "#9BA19F", price: "Rp 283.000" },
            { name: "S900-N", code: "#191A1B", price: "Rp 321.500" },
            { name: "0580-Y", code: "#FFD200", price: "Rp 528.300" },
          ],
        },
        "jotun-majestic-matt": {
          img: "image/cat/jotun-majestic true beauty matt.png",
          name: "Jotun Majestic True Beauty Matt",
          price: { "2.5L": "Rp 540.700" },
          colors: [
            { name: "S0580-Y20R", code: "#FFAB00", price: "Rp 540.700" },
            { name: "S1075-G20Y", code: "#3CAC3C", price: "Rp 533.700" },
            { name: "S2075-G20Y", code: "#03922F", price: "Rp 554.500" },
            { name: "S0570-G40Y", code: "#99CC38", price: "Rp 317.000" },
            { name: "S0575-G40Y", code: "#9CCE2B", price: "Rp 482.700" },
            { name: "S0502-G", code: "#E9EDEA", price: "Rp 272.500" },
            { name: "I002-G", code: "#DBDFDB", price: "Rp 274.600" },
            { name: "3502-G", code: "#9BA19F", price: "Rp 245.000" },
            { name: "S900-N", code: "#191A1B", price: "Rp 279.000" },
            { name: "0580-Y", code: "#FFD200", price: "Rp 456.200" },
          ],
        },
        "thinner-premium": {
          img: "image/thinner.jpg",
          name: "Thinner Premium",
          price: { default: "Rp 42.000" },
          colors: [],
        },
      };

      /************************
       * Category filter logic *
       ************************/
      const categoryEls = document.querySelectorAll("#categoryList li");
      const productGrid = document.getElementById("productGrid");
      const productCards = Array.from(
        document.querySelectorAll(".product-card")
      );
      const categoryTitle = document.getElementById("categoryTitle");

      function setActiveCategory(catKey, catLabel) {
        productGrid.classList.add("fade-out");
        categoryEls.forEach((li) =>
          li.classList.toggle("active", li.dataset.cat === catKey)
        );
        setTimeout(() => {
          productCards.forEach((card) => {
            const cats = (card.getAttribute("data-category") || "")
              .split(" ")
              .map((s) => s.trim())
              .filter(Boolean);
            if (catKey === "all") {
              card.classList.remove("hidden");
            } else {
              if (cats.includes(catKey)) card.classList.remove("hidden");
              else card.classList.add("hidden");
            }
          });
          categoryTitle.textContent = "Kategori: " + catLabel;
          void productGrid.offsetWidth;
          productGrid.classList.remove("fade-out");
        }, 240);
      }

      categoryEls.forEach((li) => {
        li.addEventListener("click", () => {
          const key = li.dataset.cat;
          const label = li.textContent.trim();
          setActiveCategory(key, label);
        });
      });

      setActiveCategory("all", "Semua Produk");

      /************************
       * Modal & product view *
       ************************/
      let currentProductKey = "";
      let currentColor = "";
      let currentColorData = null;
      let currentProductData = null;
      let currentSize = "";

      // GANTI NOMOR WHATSAPP ADMIN DI SINI
      const adminWhatsApp = "6281287652743"; // Format: 62xxx tanpa tanda +

      function openModalByKey(productKey) {
        let data = products[productKey];

        if (!data) {
          switch (productKey) {
            case "viniton-2901":
              data = products.viniton;
              break;
            case "vinnex-3000":
              data = products.vinnex;
              break;
            case "vinseal-3100":
              data = products.vinseal;
              break;
            case "carfine-6000":
              data = products.carfine;
              break;
            case "jotun-majestic-pure":
              data = products["jotun-majestic-pure"];
              break;
            case "jotun-majestic-sense":
              data = products["jotun-majestic-sense"];
              break;
            case "jotun-true-beauty-sheen":
              data = products["jotun-majestic-sheen"];
              break;
            case "jotun-true-beauty-matt":
              data = products["jotun-majestic-matt"];
              break;
            case "thinner-premium":
              data = products["thinner-premium"];
              break;
            default:
              data = null;
          }
        }

        if (!data) return;

        currentProductKey = productKey;
        currentColorData = null;
        currentProductData = data;

        document.getElementById("modal-img").src = data.img || "";
        document.getElementById("modal-title").textContent = data.name || "";

        const sizeSel = document.getElementById("modal-size");
        sizeSel.innerHTML = "";
        const sizes = Object.keys(data.price || {});
        if (sizes.length === 0) sizes.push("default");

        sizes.forEach((sz) => {
          const opt = document.createElement("option");
          opt.value = sz;
          opt.textContent = sz === "default" ? "Satuan" : sz;
          sizeSel.appendChild(opt);
        });

        sizeSel.value = sizes[0];
        currentSize = sizes[0];

        function updatePrice() {
          const currentSizeValue = sizeSel.value;
          currentSize = currentSizeValue;
          let priceText = "";

          if (currentColorData && currentColorData.price) {
            priceText = currentColorData.price;
          } else {
            priceText =
              data.price[currentSizeValue] || data.price["default"] || "";
          }

          if (currentSizeValue !== "default") {
            priceText += " / " + currentSizeValue;
          }

          document.getElementById("modal-price").textContent = priceText;
        }

        updatePrice();
        sizeSel.onchange = updatePrice;

        const palette = document.getElementById("modal-palette");
        palette.innerHTML = "";

        if (data.colors && data.colors.length) {
          data.colors.forEach((clr) => {
            const node = document.createElement("div");
            node.className = "color-palette";
            node.title = clr.name;
            node.style.background = clr.code;
            node.setAttribute("data-color-name", clr.name);

            node.addEventListener("click", () => {
              palette
                .querySelectorAll(".color-palette")
                .forEach((n) => n.classList.remove("selected"));
              node.classList.add("selected");
              document.getElementById("modal-color-label").textContent =
                "Warna: " + clr.name;
              currentColor = clr.name;
              currentColorData = clr;
              updatePrice();
            });

            palette.appendChild(node);
          });

          setTimeout(() => {
            const first = palette.querySelector(".color-palette");
            if (first) first.click();
          }, 80);
        } else {
          palette.innerHTML =
            "<div style='color:#666'>Tidak ada pilihan warna</div>";
          document.getElementById("modal-color-label").textContent = "";
        }

        document.getElementById("modal-detail").style.display = "flex";
      }

      document.querySelectorAll(".product-card").forEach((card) => {
        const btn = card.querySelector(".product-btn");
        btn.addEventListener("click", () => {
          const keyPalette = card.getAttribute("data-palette-product");
          const dataProduct = card.getAttribute("data-product");
          if (keyPalette && products[keyPalette]) openModalByKey(keyPalette);
          else if (dataProduct) openModalByKey(dataProduct);
          else {
            const title = card
              .querySelector(".product-title")
              .textContent.trim()
              .toLowerCase()
              .replace(/\s+/g, "-");
            openModalByKey(title);
          }
        });
      });

      document.getElementById("close-modal").addEventListener("click", () => {
        document.getElementById("modal-detail").style.display = "none";
      });

      document.getElementById("modal-close").addEventListener("click", () => {
        document.getElementById("modal-detail").style.display = "none";
      });

      // WhatsApp Buy Button Handler
      document.getElementById("modal-buy").addEventListener("click", () => {
        if (!currentProductData) {
          alert("Silakan pilih produk terlebih dahulu");
          return;
        }

        const productName = currentProductData.name;
        const color = currentColor || "Tidak ada warna dipilih";

        let price = "";
        if (currentColorData && currentColorData.price) {
          price = currentColorData.price;
        } else {
          price =
            currentProductData.price[currentSize] ||
            currentProductData.price["default"] ||
            "";
        }

        const size = currentSize !== "default" ? currentSize : "Satuan";

        const message =
          `Halo, saya mau beli cat:\n\n` +
          `ðŸ“¦ Produk: ${productName}\n` +
          `ðŸŽ¨ Warna: ${color}\n` +
          `ðŸ“ Ukuran: ${size}\n` +
          `ðŸ’° Harga: ${price}\n\n` +
          `Apakah produk ini tersedia?`;

        const encodedMessage = encodeURIComponent(message);
        const whatsappURL = `https://wa.me/${adminWhatsApp}?text=${encodedMessage}`;

        window.open(whatsappURL, "_blank");
      });

      document.getElementById("modal-detail").addEventListener("click", (e) => {
        if (e.target === document.getElementById("modal-detail"))
          document.getElementById("modal-detail").style.display = "none";
      });

      const searchInput = document.getElementById("searchInput");
      document.getElementById("searchBtn").addEventListener("click", () => {
        const q = searchInput.value.trim().toLowerCase();
        if (!q) {
          const active = document.querySelector("#categoryList li.active");
          const key = active ? active.dataset.cat : "all";
          setActiveCategory(
            key,
            active ? active.textContent.trim() : "Semua Produk"
          );
          return;
        }
        productCards.forEach((card) => {
          const name = (
            card.querySelector(".product-title")?.textContent || ""
          ).toLowerCase();
          const productAttr = (
            card.getAttribute("data-product") || ""
          ).toLowerCase();
          if (name.includes(q) || productAttr.includes(q))
            card.classList.remove("hidden");
          else card.classList.add("hidden");
        });
        categoryTitle.textContent = "Kategori: Hasil pencarian";
        productGrid.classList.remove("fade-out");
      });

      searchInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          document.getElementById("searchBtn").click();
        }
      });
    </script>
  </body>
</html>
